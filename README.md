# Tachikoma

> ç±» Claude Code å¤šæ™ºèƒ½ä½“ç³»ç»Ÿ (MAS) - Bun + TypeScript å®ç°

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0+-blue.svg)](https://www.typescriptlang.org/)
[![Bun](https://img.shields.io/badge/Bun-1.0+-f9f1e1.svg)](https://bun.sh/)

## ğŸ¯ é¡¹ç›®ç®€ä»‹

**Tachikoma**
æ˜¯ä¸€ä¸ªåŸºäºç»Ÿç­¹è€…-å·¥ä½œè€…ï¼ˆOrchestrator-Workerï¼‰æ¨¡å¼çš„å¤šæ™ºèƒ½ä½“ç¼–ç ç³»ç»Ÿã€‚åç§°å–è‡ªã€Šæ”»å£³æœºåŠ¨é˜Ÿã€‹ä¸­çš„æ€è€ƒæˆ˜è½¦ AIï¼Œè±¡å¾å…·æœ‰è‡ªä¸»æ€è€ƒèƒ½åŠ›çš„æ™ºèƒ½ä»£ç†ç³»ç»Ÿã€‚

### æ ¸å¿ƒç‰¹æ€§

- ğŸ§  **åŒç³»ç»Ÿæ¶æ„**: System 2 (æ…¢æ€è€ƒ/è§„åˆ’) + System 1 (å¿«æ‰§è¡Œ/è¡ŒåŠ¨)
- ğŸ”§ **åˆ†å±‚å¼è¡Œä¸ºç©ºé—´**: åŸå­å‡½æ•° â†’ æ²™ç›’å·¥å…· â†’ è½¯ä»¶åŒ…/API
- ğŸ“¦ **Code Execution with MCP**: é€šè¿‡ä»£ç æ‰§è¡Œè°ƒç”¨å·¥å…·ï¼Œå‡å°‘ 80%+ Token æ¶ˆè€—
- ğŸ—‚ï¸ **ä¸Šä¸‹æ–‡å·¥ç¨‹**: æ™ºèƒ½å‹ç¼©ã€æ‘˜è¦ã€å¸è½½ï¼Œé˜²æ­¢"ä¸Šä¸‹æ–‡è…çƒ‚"
- ğŸ”’ **å®‰å…¨æ²™ç›’**: å®Œå…¨éš”ç¦»çš„ä»£ç æ‰§è¡Œç¯å¢ƒ
- ğŸ“Š **AgentOps**: å®Œæ•´çš„å¯è§‚æµ‹æ€§ã€è¯„ä¼°å’ŒæŒç»­æ”¹è¿›æœºåˆ¶

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Layer 5: AgentOps & Governance                   â”‚
â”‚         (å¯è§‚æµ‹æ€§ã€è¯„ä¼°ã€è´¨é‡é£è½®ã€æŒç»­æ”¹è¿›)                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                Layer 4: Context & Memory Management                  â”‚
â”‚         (ä¸Šä¸‹æ–‡å·¥ç¨‹ã€ä¼šè¯ç®¡ç†ã€é•¿æœŸè®°å¿†ã€Skills)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              Layer 3: Execution Core & Tools (System 1)              â”‚
â”‚         (å·¥ä½œè€…æ™ºèƒ½ä½“ã€ä»£ç æ²™ç›’ã€åˆ†å±‚å¼è¡Œä¸ºç©ºé—´ã€MCP)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚             Layer 2: Orchestration & Planning (System 2)             â”‚
â”‚         (ç»Ÿç­¹è€…æ™ºèƒ½ä½“ã€ä»»åŠ¡åˆ†è§£ã€é•¿æ—¶ä»»åŠ¡ç®¡ç†ã€A2A)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              Layer 1: Interaction & Security Gateway                 â”‚
â”‚         (APIç½‘å…³ã€å®‰å…¨æ‰§è¡Œç‚¹ã€èº«ä»½è®¤è¯ã€é›†ä¸­å¼æ—¥å¿—)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“š æ–‡æ¡£

| æ–‡æ¡£               | æè¿°                                    |
| ------------------ | --------------------------------------- |
| [PRD](docs/PRD.md) | äº§å“éœ€æ±‚æ–‡æ¡£ - å®Œæ•´çš„ç³»ç»Ÿè®¾è®¡å’Œå¼€å‘è®¡åˆ’ |
| [å‚è€ƒèµ„æ–™](docs/)  | æ¶æ„è®¾è®¡å‚è€ƒæ–‡æ¡£é›†åˆ                    |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- [Bun](https://bun.sh/) >= 1.0
- Docker (ç”¨äºæ²™ç›’ç¯å¢ƒ)
- Node.js >= 20 (å¯é€‰)

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/hjqcan/tachikoma.git
cd tachikoma

# å®‰è£…ä¾èµ–
bun install

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œè®¾ç½® API å¯†é’¥ç­‰

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
bun run dev
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
tachikoma/
â”œâ”€â”€ docs/                     # æ–‡æ¡£
â”‚   â”œâ”€â”€ PRD.md               # äº§å“éœ€æ±‚æ–‡æ¡£
â”‚   â””â”€â”€ references/          # å‚è€ƒèµ„æ–™
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ core/                # æ ¸å¿ƒåº“
â”‚   â”‚   â”œâ”€â”€ agents/          # æ™ºèƒ½ä½“å®ç°
â”‚   â”‚   â”œâ”€â”€ context/         # ä¸Šä¸‹æ–‡ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ tools/           # åŸå­å·¥å…·
â”‚   â”‚   â”œâ”€â”€ sandbox/         # æ²™ç›’ç®¡ç†
â”‚   â”‚   â””â”€â”€ mcp/             # MCP é›†æˆ
â”‚   â”œâ”€â”€ gateway/             # API ç½‘å…³
â”‚   â”œâ”€â”€ agentops/            # å¯è§‚æµ‹æ€§
â”‚   â””â”€â”€ cli/                 # å‘½ä»¤è¡Œå·¥å…·
â”œâ”€â”€ skills/                  # Skills åº“
â”œâ”€â”€ servers/                 # MCP æœåŠ¡å™¨ä»£ç†
â””â”€â”€ sandbox/                 # æ²™ç›’ç¯å¢ƒé…ç½®
```

## ğŸ¯ è®¾è®¡ç†å¿µ

### 1. ç»Ÿç­¹è€…-å·¥ä½œè€…æ¨¡å¼

å‚è€ƒ Anthropic çš„ Orchestrator-Workers æ¨¡å¼ï¼š

- **ç»Ÿç­¹è€…**: è´Ÿè´£å¤æ‚æ¨ç†ã€ä»»åŠ¡è§„åˆ’å’Œåè°ƒ (ä½é¢‘)
- **å·¥ä½œè€…**: è´Ÿè´£å…·ä½“ä»»åŠ¡æ‰§è¡Œ (é«˜é¢‘)

### 2. ä¸Šä¸‹æ–‡å·¥ç¨‹äº”å¤§ç­–ç•¥

| ç­–ç•¥                  | æè¿°                         |
| --------------------- | ---------------------------- |
| **ç¼©å‡ (Reduction)**  | å‹ç¼©ï¼ˆå¯é€†ï¼‰+ æ‘˜è¦ï¼ˆä¸å¯é€†ï¼‰ |
| **å¸è½½ (Offloading)** | è½¬å‚¨åˆ°æ–‡ä»¶ç³»ç»Ÿ               |
| **æ£€ç´¢ (Retrieval)**  | æŒ‰éœ€åŠ è½½ä¸Šä¸‹æ–‡               |
| **éš”ç¦» (Isolation)**  | å­æ™ºèƒ½ä½“ç‹¬ç«‹ä¸Šä¸‹æ–‡           |
| **ç¼“å­˜ (Caching)**    | KV ç¼“å­˜ä¼˜åŒ–                  |

### 3. åˆ†å±‚å¼è¡Œä¸ºç©ºé—´

| å±‚çº§        | æè¿°                    | æ•ˆç‡ä¼˜åŠ¿               |
| ----------- | ----------------------- | ---------------------- |
| **Layer 1** | åŸå­å‡½æ•°è°ƒç”¨ (10-20 ä¸ª) | çº¦æŸè§£ç ï¼ŒSchema å®‰å…¨  |
| **Layer 2** | æ²™ç›’å·¥å…· (shell å‘½ä»¤)   | ä¸å ç”¨å‡½æ•°è°ƒç”¨ä¸Šä¸‹æ–‡   |
| **Layer 3** | è½¯ä»¶åŒ…/API (ä»£ç æ‰§è¡Œ)   | å¤„ç†å¤§é‡æ•°æ®å’Œå†…å­˜è®¡ç®— |

## ğŸ”§ æŠ€æœ¯æ ˆ

- **è¿è¡Œæ—¶**: Bun
- **è¯­è¨€**: TypeScript
- **Web æ¡†æ¶**: Hono / Elysia
- **æ•°æ®å­˜å‚¨**: Redis + LevelDB
- **æ²™ç›’**: Docker / Firecracker
- **å¯è§‚æµ‹æ€§**: OpenTelemetry + Prometheus + Grafana
- **ä»»åŠ¡é˜Ÿåˆ—**: BullMQ

## ğŸ“Š å¼€å‘è®¡åˆ’

| é˜¶æ®µ    | å‘¨æœŸ | å†…å®¹                 |
| ------- | ---- | -------------------- |
| Phase 1 | 4 å‘¨ | åŸºç¡€æ¶æ„ä¸å®‰å…¨ç½‘å…³å±‚ |
| Phase 2 | 4 å‘¨ | ç»Ÿç­¹ä¸è§„åˆ’å±‚         |
| Phase 3 | 3 å‘¨ | æ‰§è¡Œæ ¸å¿ƒä¸å·¥å…·å±‚     |
| Phase 4 | 3 å‘¨ | ä¸Šä¸‹æ–‡ä¸æŒä¹…å±‚       |
| Phase 5 | 2 å‘¨ | AgentOps ä¸æ²»ç†å±‚    |

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·æŸ¥çœ‹ [è´¡çŒ®æŒ‡å—](CONTRIBUTING.md) äº†è§£è¯¦æƒ…ã€‚

## ğŸ“„ è®¸å¯è¯

[MIT License](LICENSE)

## ğŸ™ è‡´è°¢

æœ¬é¡¹ç›®å‚è€ƒäº†ä»¥ä¸‹ä¼˜ç§€çš„ç ”ç©¶å’Œå®è·µï¼š

- [Anthropic - Building Effective AI Agents](https://docs.anthropic.com/en/docs/build-with-claude/building-effective-agents)
- [Anthropic - Context Engineering](https://docs.anthropic.com/en/docs/build-with-claude/context-engineering)
- [Anthropic - Code Execution with MCP](https://docs.anthropic.com/en/docs/build-with-claude/code-execution-mcp)
- [Manus - ä¸Šä¸‹æ–‡å·¥ç¨‹å®è·µ](https://manus.ai)
- [LangChain - Agent Frameworks](https://langchain.com)

---

_å¦‚æœä½ æœ‰ä»»ä½•ä¸æ¸…æ¥šçš„åœ°æ–¹ï¼Œè¯·å‘æˆ‘æé—®ã€‚_
