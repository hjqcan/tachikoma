# =============================================================================
# Tachikoma 环境变量配置示例
# =============================================================================
# 复制此文件为 .env 并填入实际值
# cp .env.example .env
# =============================================================================

# -----------------------------------------------------------------------------
# 应用配置
# -----------------------------------------------------------------------------

# 应用环境 (development | staging | production)
NODE_ENV=development

# 服务端口
PORT=3000

# 日志级别 (debug | info | warn | error)
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# AI 模型配置
# -----------------------------------------------------------------------------

# Anthropic API (Claude 模型)
ANTHROPIC_API_KEY=sk-ant-xxxxx

# OpenAI API (备选)
# OPENAI_API_KEY=sk-xxxxx

# 模型配置
ORCHESTRATOR_MODEL=claude-opus-4
WORKER_MODEL=claude-sonnet-4
PLANNER_MODEL=claude-haiku-3.5

# 模型参数
MAX_TOKENS=8192
TEMPERATURE=0.7

# -----------------------------------------------------------------------------
# 数据存储配置
# -----------------------------------------------------------------------------

# Redis 配置 (会话缓存)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# LevelDB 配置 (持久化存储)
LEVELDB_PATH=./.data/leveldb

# -----------------------------------------------------------------------------
# 向量数据库配置 (记忆检索)
# -----------------------------------------------------------------------------

# Qdrant 配置
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=

# 或使用 Chroma
# CHROMA_URL=http://localhost:8000

# 向量维度
VECTOR_DIMENSION=1536

# -----------------------------------------------------------------------------
# 沙盒配置
# -----------------------------------------------------------------------------

# 沙盒运行时 (docker | firecracker)
SANDBOX_RUNTIME=docker

# Docker 配置
DOCKER_SOCKET=/var/run/docker.sock
DOCKER_IMAGE=tachikoma-sandbox:latest

# 资源限制
SANDBOX_CPU_LIMIT=2
SANDBOX_MEMORY_LIMIT=4G
SANDBOX_STORAGE_LIMIT=10G
SANDBOX_TIMEOUT_MS=1800000

# 网络模式 (none | restricted | full)
SANDBOX_NETWORK_MODE=restricted

# 网络白名单 (逗号分隔)
SANDBOX_NETWORK_ALLOWLIST=api.anthropic.com,api.openai.com

# -----------------------------------------------------------------------------
# 可观测性配置 (AgentOps)
# -----------------------------------------------------------------------------

# OpenTelemetry OTLP 端点
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=tachikoma

# Prometheus 指标端点
METRICS_ENABLED=true
METRICS_ENDPOINT=/metrics

# 追踪采样率 (0-1)
OTEL_TRACES_SAMPLER_ARG=1.0

# -----------------------------------------------------------------------------
# 安全配置
# -----------------------------------------------------------------------------

# JWT 配置
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=24h

# API 密钥 (用于服务间通信)
API_SECRET_KEY=your-api-secret-key

# CORS 允许的来源 (逗号分隔)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# -----------------------------------------------------------------------------
# MCP 配置
# -----------------------------------------------------------------------------

# MCP 服务器目录
MCP_SERVERS_DIR=./servers

# 启用的 MCP 服务器 (逗号分隔)
MCP_ENABLED_SERVERS=github,google-drive

# -----------------------------------------------------------------------------
# 开发配置
# -----------------------------------------------------------------------------

# 启用调试模式
DEBUG=false

# 热重载
HOT_RELOAD=true

# 启用 Mock 模式 (跳过实际 API 调用)
MOCK_MODE=false
